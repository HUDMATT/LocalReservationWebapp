{"ast":null,"code":"import _objectSpread from\"/workspaces/LocalReservationWebapp/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useMemo,useRef,useState}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const API_BASE='http://localhost:4000/api';const formatTime=time=>{const[hourStr,minuteStr]=time.split(':');const hour=Number(hourStr);if(Number.isNaN(hour)){return time;}const suffix=hour>=12?'PM':'AM';const displayHour=(hour+11)%12+1;return\"\".concat(displayHour,\":\").concat(minuteStr,\" \").concat(suffix);};const todayISO=()=>{const now=new Date();const month=String(now.getMonth()+1).padStart(2,'0');const day=String(now.getDate()).padStart(2,'0');return\"\".concat(now.getFullYear(),\"-\").concat(month,\"-\").concat(day);};const App=()=>{const[dateInput,setDateInput]=useState(todayISO());const[activeDate,setActiveDate]=useState(null);const[tables,setTables]=useState([]);const[groups,setGroups]=useState([]);const[reservations,setReservations]=useState([]);const[selectedTableIds,setSelectedTableIds]=useState([]);const[loading,setLoading]=useState(false);const[modal,setModal]=useState(null);const[toast,setToast]=useState(null);const[canvasWidth,setCanvasWidth]=useState(957);const dragRef=useRef(null);const canvasRef=useRef(null);const reservationByGroup=useMemo(()=>{const map=new Map();reservations.forEach(res=>map.set(res.groupId,res));return map;},[reservations]);const groupMap=useMemo(()=>{const map=new Map();groups.forEach(group=>map.set(group.groupId,group));return map;},[groups]);const selectedGroupId=useMemo(()=>{if(selectedTableIds.length===0){return null;}const groupIds=selectedTableIds.map(id=>{var _tables$find$groupId,_tables$find;return(_tables$find$groupId=(_tables$find=tables.find(table=>table.tableId===id))===null||_tables$find===void 0?void 0:_tables$find.groupId)!==null&&_tables$find$groupId!==void 0?_tables$find$groupId:null;}).filter(id=>id!==null);if(groupIds.length!==selectedTableIds.length){return null;}const unique=new Set(groupIds);if(unique.size!==1){return null;}return groupIds[0];},[selectedTableIds,tables]);const showToast=(message,type)=>{setToast({message,type});setTimeout(()=>setToast(null),3000);};const loadLayout=async date=>{setLoading(true);try{const response=await fetch(\"\".concat(API_BASE,\"/layout/\").concat(date));if(!response.ok){throw new Error('Failed to load layout.');}const payload=await response.json();setTables(payload.tables);setGroups(payload.groups);setReservations(payload.reservations);setSelectedTableIds([]);}catch(err){showToast('Could not load layout.','error');}finally{setLoading(false);}};const openDate=async()=>{if(!dateInput){showToast('Pick a date first.','error');return;}setLoading(true);try{const response=await fetch(\"\".concat(API_BASE,\"/layout/\").concat(dateInput,\"/init\"),{method:'POST'});if(!response.ok){throw new Error('Failed to initialize layout.');}setActiveDate(dateInput);await loadLayout(dateInput);}catch(err){showToast('Could not open date.','error');}finally{setLoading(false);}};const refreshLayout=async()=>{if(!activeDate){return;}await loadLayout(activeDate);};const handleTableClick=(tableId,event)=>{if(event.shiftKey){setSelectedTableIds(prev=>prev.includes(tableId)?prev.filter(id=>id!==tableId):[...prev,tableId]);return;}setSelectedTableIds([tableId]);};const handlePointerDown=(table,event)=>{if(event.button!==0){return;}const target=event.currentTarget;target.setPointerCapture(event.pointerId);dragRef.current={tableId:table.tableId,startX:table.x,startY:table.y,pointerStartX:event.clientX,pointerStartY:event.clientY};};const handlePointerMove=event=>{if(!dragRef.current){return;}const{tableId,startX,startY,pointerStartX,pointerStartY}=dragRef.current;const deltaX=event.clientX-pointerStartX;const deltaY=event.clientY-pointerStartY;setTables(prev=>prev.map(table=>table.tableId===tableId?_objectSpread(_objectSpread({},table),{},{x:Math.max(0,startX+deltaX),y:Math.max(0,startY+deltaY)}):table));};const handlePointerUp=async event=>{if(!dragRef.current||!activeDate){return;}const{tableId}=dragRef.current;dragRef.current=null;const table=tables.find(item=>item.tableId===tableId);if(!table){return;}try{await fetch(\"\".concat(API_BASE,\"/layout/\").concat(activeDate,\"/table/\").concat(tableId),{method:'PUT',headers:{'Content-Type':'application/json'},body:JSON.stringify({x:table.x,y:table.y})});console.log(\"Table \".concat(table.name,\" (\").concat(table.tableId,\") position: x=\").concat(table.x,\", y=\").concat(table.y));}catch(err){showToast('Could not save position.','error');}};const handleGroup=async()=>{if(!activeDate){return;}if(selectedTableIds.length<2){showToast('Select at least two tables to group.','error');return;}try{const response=await fetch(\"\".concat(API_BASE,\"/layout/\").concat(activeDate,\"/group\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({tableIds:selectedTableIds})});if(!response.ok){const payload=await response.json();throw new Error(payload.error||'Failed to group.');}await refreshLayout();}catch(err){showToast('Grouping failed. Ungroup tables first.','error');}};const handleUngroup=async()=>{if(!activeDate||!selectedGroupId){showToast('Select a grouped set of tables.','error');return;}if(reservationByGroup.has(selectedGroupId)){showToast('Delete the reservation before ungrouping.','error');return;}try{const response=await fetch(\"\".concat(API_BASE,\"/layout/\").concat(activeDate,\"/ungroup\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({groupId:selectedGroupId})});if(!response.ok){const payload=await response.json();throw new Error(payload.error||'Failed to ungroup.');}await refreshLayout();}catch(err){showToast('Ungroup failed.','error');}};const handleTableDoubleClick=async table=>{var _groupMap$get;if(!activeDate){return;}let groupId=table.groupId;if(!groupId){try{const response=await fetch(\"\".concat(API_BASE,\"/layout/\").concat(activeDate,\"/group\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({tableIds:[table.tableId]})});if(!response.ok){const payload=await response.json();throw new Error(payload.error||'Failed to create group.');}const payload=await response.json();groupId=payload.groupId;setTables(prev=>prev.map(item=>item.tableId===table.tableId?_objectSpread(_objectSpread({},item),{},{groupId}):item));}catch(err){showToast('Could not create group.','error');return;}}if(groupId===null){showToast('Could not open reservation.','error');return;}const reservation=reservationByGroup.get(groupId)||null;const groupTables=((_groupMap$get=groupMap.get(groupId))===null||_groupMap$get===void 0?void 0:_groupMap$get.tableIds)||[table.tableId];const tableNames=groupTables.map(id=>{var _tables$find2;return((_tables$find2=tables.find(item=>item.tableId===id))===null||_tables$find2===void 0?void 0:_tables$find2.name)||\"T\".concat(id);}).join(', ');setModal({groupId,tableNames,reservation});};const handleReservationSave=async data=>{if(!activeDate||!modal){return;}try{const response=await fetch(\"\".concat(API_BASE,\"/layout/\").concat(activeDate,\"/reservation\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(_objectSpread({groupId:modal.groupId},data))});if(!response.ok){const payload=await response.json();throw new Error(payload.error||'Failed to save reservation.');}setModal(null);await refreshLayout();}catch(err){showToast('Reservation save failed.','error');}};const handleReservationDelete=async()=>{if(!activeDate||!(modal!==null&&modal!==void 0&&modal.reservation)){return;}try{await fetch(\"\".concat(API_BASE,\"/layout/\").concat(activeDate,\"/reservation/\").concat(modal.reservation.id),{method:'DELETE'});setModal(null);await refreshLayout();}catch(err){showToast('Reservation delete failed.','error');}};const reservationLabels=useMemo(()=>{const LABEL_PADDING=12;return reservations.map(reservation=>{const tablesInGroup=tables.filter(table=>table.groupId===reservation.groupId);if(tablesInGroup.length===0){return null;}const avgX=tablesInGroup.reduce((sum,table)=>sum+table.x+table.width/2,0)/tablesInGroup.length;const maxY=Math.max(...tablesInGroup.map(table=>table.y+table.height));const clampedX=Math.min(Math.max(avgX,LABEL_PADDING),canvasWidth-LABEL_PADDING);return{id:reservation.id,x:clampedX,y:maxY+10,text:\"\".concat(reservation.name,\" - \").concat(formatTime(reservation.time),\" (\").concat(reservation.partySize,\")\")};}).filter(Boolean);},[reservations,tables]);useEffect(()=>{const updateWidth=()=>{if(canvasRef.current){setCanvasWidth(canvasRef.current.offsetWidth||957);}};updateWidth();window.addEventListener('resize',updateWidth);return()=>window.removeEventListener('resize',updateWidth);},[]);if(!activeDate){return/*#__PURE__*/_jsxs(\"div\",{className:\"app\",children:[/*#__PURE__*/_jsx(\"header\",{className:\"header\",children:/*#__PURE__*/_jsx(\"h1\",{children:\"Razorback Pizza Reservations\"})}),/*#__PURE__*/_jsx(\"main\",{className:\"page\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card date-picker\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"Select date\",/*#__PURE__*/_jsx(\"input\",{className:\"input\",type:\"date\",value:dateInput,onChange:event=>setDateInput(event.target.value)})]}),/*#__PURE__*/_jsx(\"button\",{className:\"button\",onClick:openDate,disabled:loading,children:loading?'Opening...':'Open'}),/*#__PURE__*/_jsx(\"div\",{className:\"footer-note\",children:\"Reservation app for Razorback Pizza. Create or load a floor plan for the selected date.\"})]})}),toast&&/*#__PURE__*/_jsx(\"div\",{className:\"toast \".concat(toast.type||'').trim(),children:toast.message})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"app\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"header\",children:[/*#__PURE__*/_jsxs(\"h1\",{children:[\"Floor Plan for \",activeDate]}),/*#__PURE__*/_jsx(\"button\",{className:\"button secondary\",onClick:()=>setActiveDate(null),children:\"Change date\"})]}),/*#__PURE__*/_jsxs(\"main\",{className:\"page\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"toolbar\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"button\",onClick:handleGroup,children:\"Group\"}),/*#__PURE__*/_jsx(\"button\",{className:\"button secondary\",onClick:handleUngroup,children:\"Ungroup\"}),/*#__PURE__*/_jsx(\"button\",{className:\"button secondary\",onClick:refreshLayout,children:\"Refresh\"}),/*#__PURE__*/_jsx(\"div\",{className:\"footer-note\",children:\"Shift+click to multi-select tables.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"canvas\",ref:canvasRef,children:[tables.map(table=>{const reserved=table.groupId?reservationByGroup.has(table.groupId):false;const selected=selectedTableIds.includes(table.tableId);return/*#__PURE__*/_jsx(\"div\",{className:\"table\".concat(reserved?' reserved':'').concat(selected?' selected':''),style:{width:table.width,height:table.height,left:table.x,top:table.y},onClick:event=>handleTableClick(table.tableId,event),onDoubleClick:()=>handleTableDoubleClick(table),onPointerDown:event=>handlePointerDown(table,event),onPointerMove:handlePointerMove,onPointerUp:handlePointerUp,children:table.name},table.tableId);}),reservationLabels.map(label=>/*#__PURE__*/_jsx(\"div\",{className:\"reservation-label\",style:{left:label.x,top:label.y},children:label.text},label.id))]})]}),modal&&/*#__PURE__*/_jsx(ReservationModal,{modal:modal,onClose:()=>setModal(null),onSave:handleReservationSave,onDelete:handleReservationDelete}),toast&&/*#__PURE__*/_jsx(\"div\",{className:\"toast \".concat(toast.type||'').trim(),children:toast.message})]});};const ReservationModal=_ref=>{var _modal$reservation,_modal$reservation2,_modal$reservation3,_modal$reservation3$p,_modal$reservation4;let{modal,onClose,onSave,onDelete}=_ref;const[time,setTime]=useState(((_modal$reservation=modal.reservation)===null||_modal$reservation===void 0?void 0:_modal$reservation.time)||'18:30');const[name,setName]=useState(((_modal$reservation2=modal.reservation)===null||_modal$reservation2===void 0?void 0:_modal$reservation2.name)||'');const[partySize,setPartySize]=useState(((_modal$reservation3=modal.reservation)===null||_modal$reservation3===void 0?void 0:(_modal$reservation3$p=_modal$reservation3.partySize)===null||_modal$reservation3$p===void 0?void 0:_modal$reservation3$p.toString())||'2');const[notes,setNotes]=useState(((_modal$reservation4=modal.reservation)===null||_modal$reservation4===void 0?void 0:_modal$reservation4.notes)||'');const submit=()=>{const size=Number(partySize);if(!time||!name||Number.isNaN(size)){return;}onSave({time,name,partySize:size,notes});};return/*#__PURE__*/_jsx(\"div\",{className:\"modal-backdrop\",onClick:onClose,children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal\",onClick:event=>event.stopPropagation(),children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Reservation\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"footer-note\",children:[\"Tables: \",modal.tableNames]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Time\",/*#__PURE__*/_jsx(\"input\",{className:\"input\",type:\"time\",value:time,onChange:event=>setTime(event.target.value)})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Name\",/*#__PURE__*/_jsx(\"input\",{className:\"input\",value:name,onChange:event=>setName(event.target.value)})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Party size\",/*#__PURE__*/_jsx(\"input\",{className:\"input\",type:\"number\",min:\"1\",value:partySize,onChange:event=>setPartySize(event.target.value)})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Notes\",/*#__PURE__*/_jsx(\"input\",{className:\"input\",value:notes,onChange:event=>setNotes(event.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"toolbar\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"button\",onClick:submit,children:\"Save\"}),/*#__PURE__*/_jsx(\"button\",{className:\"button secondary\",onClick:onClose,children:\"Cancel\"}),modal.reservation&&/*#__PURE__*/_jsx(\"button\",{className:\"button secondary\",onClick:onDelete,children:\"Delete\"})]})]})});};export default App;","map":{"version":3,"names":["React","useEffect","useMemo","useRef","useState","jsx","_jsx","jsxs","_jsxs","API_BASE","formatTime","time","hourStr","minuteStr","split","hour","Number","isNaN","suffix","displayHour","concat","todayISO","now","Date","month","String","getMonth","padStart","day","getDate","getFullYear","App","dateInput","setDateInput","activeDate","setActiveDate","tables","setTables","groups","setGroups","reservations","setReservations","selectedTableIds","setSelectedTableIds","loading","setLoading","modal","setModal","toast","setToast","canvasWidth","setCanvasWidth","dragRef","canvasRef","reservationByGroup","map","Map","forEach","res","set","groupId","groupMap","group","selectedGroupId","length","groupIds","id","_tables$find$groupId","_tables$find","find","table","tableId","filter","unique","Set","size","showToast","message","type","setTimeout","loadLayout","date","response","fetch","ok","Error","payload","json","err","openDate","method","refreshLayout","handleTableClick","event","shiftKey","prev","includes","handlePointerDown","button","target","currentTarget","setPointerCapture","pointerId","current","startX","x","startY","y","pointerStartX","clientX","pointerStartY","clientY","handlePointerMove","deltaX","deltaY","_objectSpread","Math","max","handlePointerUp","item","headers","body","JSON","stringify","console","log","name","handleGroup","tableIds","error","handleUngroup","has","handleTableDoubleClick","_groupMap$get","reservation","get","groupTables","tableNames","_tables$find2","join","handleReservationSave","data","handleReservationDelete","reservationLabels","LABEL_PADDING","tablesInGroup","avgX","reduce","sum","width","maxY","height","clampedX","min","text","partySize","Boolean","updateWidth","offsetWidth","window","addEventListener","removeEventListener","className","children","value","onChange","onClick","disabled","trim","ref","reserved","selected","style","left","top","onDoubleClick","onPointerDown","onPointerMove","onPointerUp","label","ReservationModal","onClose","onSave","onDelete","_ref","_modal$reservation","_modal$reservation2","_modal$reservation3","_modal$reservation3$p","_modal$reservation4","setTime","setName","setPartySize","toString","notes","setNotes","submit","stopPropagation"],"sources":["/workspaces/LocalReservationWebapp/client/src/App.tsx"],"sourcesContent":["import React, { useEffect, useMemo, useRef, useState } from 'react';\n\ntype TableItem = {\n  tableId: number;\n  name: string;\n  x: number;\n  y: number;\n  width: number;\n  height: number;\n  capacity?: number | null;\n  groupId: number | null;\n};\n\ntype Group = {\n  groupId: number;\n  tableIds: number[];\n};\n\ntype Reservation = {\n  id: number;\n  groupId: number;\n  time: string;\n  name: string;\n  partySize: number;\n  notes?: string | null;\n};\n\ntype ModalState = {\n  groupId: number;\n  tableNames: string;\n  reservation: Reservation | null;\n};\n\ntype ToastState = {\n  message: string;\n  type?: 'error';\n};\n\nconst API_BASE = 'http://localhost:4000/api';\n\nconst formatTime = (time: string) => {\n  const [hourStr, minuteStr] = time.split(':');\n  const hour = Number(hourStr);\n  if (Number.isNaN(hour)) {\n    return time;\n  }\n  const suffix = hour >= 12 ? 'PM' : 'AM';\n  const displayHour = ((hour + 11) % 12) + 1;\n  return `${displayHour}:${minuteStr} ${suffix}`;\n};\n\nconst todayISO = () => {\n  const now = new Date();\n  const month = String(now.getMonth() + 1).padStart(2, '0');\n  const day = String(now.getDate()).padStart(2, '0');\n  return `${now.getFullYear()}-${month}-${day}`;\n};\n\nconst App: React.FC = () => {\n  const [dateInput, setDateInput] = useState(todayISO());\n  const [activeDate, setActiveDate] = useState<string | null>(null);\n  const [tables, setTables] = useState<TableItem[]>([]);\n  const [groups, setGroups] = useState<Group[]>([]);\n  const [reservations, setReservations] = useState<Reservation[]>([]);\n  const [selectedTableIds, setSelectedTableIds] = useState<number[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [modal, setModal] = useState<ModalState | null>(null);\n  const [toast, setToast] = useState<ToastState | null>(null);\n  const [canvasWidth, setCanvasWidth] = useState(957);\n\n  const dragRef = useRef<{\n    tableId: number;\n    startX: number;\n    startY: number;\n    pointerStartX: number;\n    pointerStartY: number;\n  } | null>(null);\n  const canvasRef = useRef<HTMLDivElement | null>(null);\n\n  const reservationByGroup = useMemo(() => {\n    const map = new Map<number, Reservation>();\n    reservations.forEach((res) => map.set(res.groupId, res));\n    return map;\n  }, [reservations]);\n\n  const groupMap = useMemo(() => {\n    const map = new Map<number, Group>();\n    groups.forEach((group) => map.set(group.groupId, group));\n    return map;\n  }, [groups]);\n\n  const selectedGroupId = useMemo(() => {\n    if (selectedTableIds.length === 0) {\n      return null;\n    }\n    const groupIds = selectedTableIds\n      .map((id) => tables.find((table) => table.tableId === id)?.groupId ?? null)\n      .filter((id): id is number => id !== null);\n    if (groupIds.length !== selectedTableIds.length) {\n      return null;\n    }\n    const unique = new Set(groupIds);\n    if (unique.size !== 1) {\n      return null;\n    }\n    return groupIds[0];\n  }, [selectedTableIds, tables]);\n\n  const showToast = (message: string, type?: 'error') => {\n    setToast({ message, type });\n    setTimeout(() => setToast(null), 3000);\n  };\n\n  const loadLayout = async (date: string) => {\n    setLoading(true);\n    try {\n      const response = await fetch(`${API_BASE}/layout/${date}`);\n      if (!response.ok) {\n        throw new Error('Failed to load layout.');\n      }\n      const payload = await response.json();\n      setTables(payload.tables);\n      setGroups(payload.groups);\n      setReservations(payload.reservations);\n      setSelectedTableIds([]);\n    } catch (err) {\n      showToast('Could not load layout.', 'error');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const openDate = async () => {\n    if (!dateInput) {\n      showToast('Pick a date first.', 'error');\n      return;\n    }\n    setLoading(true);\n    try {\n      const response = await fetch(`${API_BASE}/layout/${dateInput}/init`, {\n        method: 'POST'\n      });\n      if (!response.ok) {\n        throw new Error('Failed to initialize layout.');\n      }\n      setActiveDate(dateInput);\n      await loadLayout(dateInput);\n    } catch (err) {\n      showToast('Could not open date.', 'error');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const refreshLayout = async () => {\n    if (!activeDate) {\n      return;\n    }\n    await loadLayout(activeDate);\n  };\n\n  const handleTableClick = (tableId: number, event: React.MouseEvent) => {\n    if (event.shiftKey) {\n      setSelectedTableIds((prev) =>\n        prev.includes(tableId) ? prev.filter((id) => id !== tableId) : [...prev, tableId]\n      );\n      return;\n    }\n    setSelectedTableIds([tableId]);\n  };\n\n  const handlePointerDown = (table: TableItem, event: React.PointerEvent) => {\n    if (event.button !== 0) {\n      return;\n    }\n    const target = event.currentTarget as HTMLElement;\n    target.setPointerCapture(event.pointerId);\n    dragRef.current = {\n      tableId: table.tableId,\n      startX: table.x,\n      startY: table.y,\n      pointerStartX: event.clientX,\n      pointerStartY: event.clientY\n    };\n  };\n\n  const handlePointerMove = (event: React.PointerEvent) => {\n    if (!dragRef.current) {\n      return;\n    }\n    const { tableId, startX, startY, pointerStartX, pointerStartY } = dragRef.current;\n    const deltaX = event.clientX - pointerStartX;\n    const deltaY = event.clientY - pointerStartY;\n    setTables((prev) =>\n      prev.map((table) =>\n        table.tableId === tableId\n          ? { ...table, x: Math.max(0, startX + deltaX), y: Math.max(0, startY + deltaY) }\n          : table\n      )\n    );\n  };\n\n  const handlePointerUp = async (event: React.PointerEvent) => {\n    if (!dragRef.current || !activeDate) {\n      return;\n    }\n    const { tableId } = dragRef.current;\n    dragRef.current = null;\n    const table = tables.find((item) => item.tableId === tableId);\n    if (!table) {\n      return;\n    }\n    try {\n      await fetch(`${API_BASE}/layout/${activeDate}/table/${tableId}`, {\n        method: 'PUT',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ x: table.x, y: table.y })\n      });\n      console.log(`Table ${table.name} (${table.tableId}) position: x=${table.x}, y=${table.y}`);\n    } catch (err) {\n      showToast('Could not save position.', 'error');\n    }\n  };\n\n  const handleGroup = async () => {\n    if (!activeDate) {\n      return;\n    }\n    if (selectedTableIds.length < 2) {\n      showToast('Select at least two tables to group.', 'error');\n      return;\n    }\n    try {\n      const response = await fetch(`${API_BASE}/layout/${activeDate}/group`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ tableIds: selectedTableIds })\n      });\n      if (!response.ok) {\n        const payload = await response.json();\n        throw new Error(payload.error || 'Failed to group.');\n      }\n      await refreshLayout();\n    } catch (err) {\n      showToast('Grouping failed. Ungroup tables first.', 'error');\n    }\n  };\n\n  const handleUngroup = async () => {\n    if (!activeDate || !selectedGroupId) {\n      showToast('Select a grouped set of tables.', 'error');\n      return;\n    }\n    if (reservationByGroup.has(selectedGroupId)) {\n      showToast('Delete the reservation before ungrouping.', 'error');\n      return;\n    }\n    try {\n      const response = await fetch(`${API_BASE}/layout/${activeDate}/ungroup`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ groupId: selectedGroupId })\n      });\n      if (!response.ok) {\n        const payload = await response.json();\n        throw new Error(payload.error || 'Failed to ungroup.');\n      }\n      await refreshLayout();\n    } catch (err) {\n      showToast('Ungroup failed.', 'error');\n    }\n  };\n\n  const handleTableDoubleClick = async (table: TableItem) => {\n    if (!activeDate) {\n      return;\n    }\n    let groupId = table.groupId;\n    if (!groupId) {\n      try {\n        const response = await fetch(`${API_BASE}/layout/${activeDate}/group`, {\n          method: 'POST',\n          headers: { 'Content-Type': 'application/json' },\n          body: JSON.stringify({ tableIds: [table.tableId] })\n        });\n        if (!response.ok) {\n          const payload = await response.json();\n          throw new Error(payload.error || 'Failed to create group.');\n        }\n        const payload = await response.json();\n        groupId = payload.groupId;\n        setTables((prev) =>\n          prev.map((item) =>\n            item.tableId === table.tableId ? { ...item, groupId } : item\n          )\n        );\n      } catch (err) {\n        showToast('Could not create group.', 'error');\n        return;\n      }\n    }\n\n    if (groupId === null) {\n      showToast('Could not open reservation.', 'error');\n      return;\n    }\n    const reservation = reservationByGroup.get(groupId) || null;\n    const groupTables = groupMap.get(groupId)?.tableIds || [table.tableId];\n    const tableNames = groupTables\n      .map((id) => tables.find((item) => item.tableId === id)?.name || `T${id}`)\n      .join(', ');\n    setModal({ groupId, tableNames, reservation });\n  };\n\n  const handleReservationSave = async (data: {\n    time: string;\n    name: string;\n    partySize: number;\n    notes?: string;\n  }) => {\n    if (!activeDate || !modal) {\n      return;\n    }\n    try {\n      const response = await fetch(`${API_BASE}/layout/${activeDate}/reservation`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ groupId: modal.groupId, ...data })\n      });\n      if (!response.ok) {\n        const payload = await response.json();\n        throw new Error(payload.error || 'Failed to save reservation.');\n      }\n      setModal(null);\n      await refreshLayout();\n    } catch (err) {\n      showToast('Reservation save failed.', 'error');\n    }\n  };\n\n  const handleReservationDelete = async () => {\n    if (!activeDate || !modal?.reservation) {\n      return;\n    }\n    try {\n      await fetch(`${API_BASE}/layout/${activeDate}/reservation/${modal.reservation.id}`, {\n        method: 'DELETE'\n      });\n      setModal(null);\n      await refreshLayout();\n    } catch (err) {\n      showToast('Reservation delete failed.', 'error');\n    }\n  };\n\n  const reservationLabels = useMemo(() => {\n    const LABEL_PADDING = 12;\n    return reservations\n      .map((reservation) => {\n        const tablesInGroup = tables.filter((table) => table.groupId === reservation.groupId);\n        if (tablesInGroup.length === 0) {\n          return null;\n        }\n        const avgX =\n          tablesInGroup.reduce((sum, table) => sum + table.x + table.width / 2, 0) /\n          tablesInGroup.length;\n        const maxY = Math.max(\n          ...tablesInGroup.map((table) => table.y + table.height)\n        );\n        const clampedX = Math.min(\n          Math.max(avgX, LABEL_PADDING),\n          canvasWidth - LABEL_PADDING\n        );\n        return {\n          id: reservation.id,\n          x: clampedX,\n          y: maxY + 10,\n          text: `${reservation.name} - ${formatTime(reservation.time)} (${reservation.partySize})`\n        };\n      })\n      .filter(Boolean) as Array<{ id: number; x: number; y: number; text: string }>;\n  }, [reservations, tables]);\n\n  useEffect(() => {\n    const updateWidth = () => {\n      if (canvasRef.current) {\n        setCanvasWidth(canvasRef.current.offsetWidth || 957);\n      }\n    };\n    updateWidth();\n    window.addEventListener('resize', updateWidth);\n    return () => window.removeEventListener('resize', updateWidth);\n  }, []);\n\n  if (!activeDate) {\n    return (\n      <div className=\"app\">\n        <header className=\"header\">\n          <h1>Razorback Pizza Reservations</h1>\n        </header>\n        <main className=\"page\">\n          <div className=\"card date-picker\">\n            <label>\n              Select date\n              <input\n                className=\"input\"\n                type=\"date\"\n                value={dateInput}\n                onChange={(event) => setDateInput(event.target.value)}\n              />\n            </label>\n            <button className=\"button\" onClick={openDate} disabled={loading}>\n              {loading ? 'Opening...' : 'Open'}\n            </button>\n            <div className=\"footer-note\">\n              Reservation app for Razorback Pizza. Create or load a floor plan for the selected date.\n            </div>\n          </div>\n        </main>\n        {toast && (\n          <div className={`toast ${toast.type || ''}`.trim()}>{toast.message}</div>\n        )}\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"app\">\n      <header className=\"header\">\n        <h1>Floor Plan for {activeDate}</h1>\n        <button className=\"button secondary\" onClick={() => setActiveDate(null)}>\n          Change date\n        </button>\n      </header>\n      <main className=\"page\">\n        <div className=\"toolbar\">\n          <button className=\"button\" onClick={handleGroup}>\n            Group\n          </button>\n          <button className=\"button secondary\" onClick={handleUngroup}>\n            Ungroup\n          </button>\n          <button className=\"button secondary\" onClick={refreshLayout}>\n            Refresh\n          </button>\n          <div className=\"footer-note\">Shift+click to multi-select tables.</div>\n        </div>\n        <div className=\"canvas\" ref={canvasRef}>\n          {tables.map((table) => {\n            const reserved = table.groupId ? reservationByGroup.has(table.groupId) : false;\n            const selected = selectedTableIds.includes(table.tableId);\n            return (\n              <div\n                key={table.tableId}\n                className={`table${reserved ? ' reserved' : ''}${selected ? ' selected' : ''}`}\n                style={{\n                  width: table.width,\n                  height: table.height,\n                  left: table.x,\n                  top: table.y\n                }}\n                onClick={(event) => handleTableClick(table.tableId, event)}\n                onDoubleClick={() => handleTableDoubleClick(table)}\n                onPointerDown={(event) => handlePointerDown(table, event)}\n                onPointerMove={handlePointerMove}\n                onPointerUp={handlePointerUp}\n              >\n                {table.name}\n              </div>\n            );\n          })}\n          {reservationLabels.map((label) => (\n            <div\n              key={label.id}\n              className=\"reservation-label\"\n              style={{ left: label.x, top: label.y }}\n            >\n              {label.text}\n            </div>\n          ))}\n        </div>\n      </main>\n      {modal && (\n        <ReservationModal\n          modal={modal}\n          onClose={() => setModal(null)}\n          onSave={handleReservationSave}\n          onDelete={handleReservationDelete}\n        />\n      )}\n      {toast && <div className={`toast ${toast.type || ''}`.trim()}>{toast.message}</div>}\n    </div>\n  );\n};\n\ntype ReservationModalProps = {\n  modal: ModalState;\n  onClose: () => void;\n  onSave: (data: { time: string; name: string; partySize: number; notes?: string }) => void;\n  onDelete: () => void;\n};\n\nconst ReservationModal: React.FC<ReservationModalProps> = ({\n  modal,\n  onClose,\n  onSave,\n  onDelete\n}) => {\n  const [time, setTime] = useState(modal.reservation?.time || '18:30');\n  const [name, setName] = useState(modal.reservation?.name || '');\n  const [partySize, setPartySize] = useState(\n    modal.reservation?.partySize?.toString() || '2'\n  );\n  const [notes, setNotes] = useState(modal.reservation?.notes || '');\n\n  const submit = () => {\n    const size = Number(partySize);\n    if (!time || !name || Number.isNaN(size)) {\n      return;\n    }\n    onSave({ time, name, partySize: size, notes });\n  };\n\n  return (\n    <div className=\"modal-backdrop\" onClick={onClose}>\n      <div className=\"modal\" onClick={(event) => event.stopPropagation()}>\n        <h2>Reservation</h2>\n        <div className=\"footer-note\">Tables: {modal.tableNames}</div>\n        <label>\n          Time\n          <input\n            className=\"input\"\n            type=\"time\"\n            value={time}\n            onChange={(event) => setTime(event.target.value)}\n          />\n        </label>\n        <label>\n          Name\n          <input\n            className=\"input\"\n            value={name}\n            onChange={(event) => setName(event.target.value)}\n          />\n        </label>\n        <label>\n          Party size\n          <input\n            className=\"input\"\n            type=\"number\"\n            min=\"1\"\n            value={partySize}\n            onChange={(event) => setPartySize(event.target.value)}\n          />\n        </label>\n        <label>\n          Notes\n          <input\n            className=\"input\"\n            value={notes}\n            onChange={(event) => setNotes(event.target.value)}\n          />\n        </label>\n        <div className=\"toolbar\">\n          <button className=\"button\" onClick={submit}>\n            Save\n          </button>\n          <button className=\"button secondary\" onClick={onClose}>\n            Cancel\n          </button>\n          {modal.reservation && (\n            <button className=\"button secondary\" onClick={onDelete}>\n              Delete\n            </button>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}