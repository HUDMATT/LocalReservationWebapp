{"ast":null,"code":"import _objectSpread from\"/workspaces/LocalReservationWebapp/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useMemo,useRef,useState}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const API_BASE='http://localhost:4000/api';const formatTime=time=>{const[hourStr,minuteStr]=time.split(':');const hour=Number(hourStr);if(Number.isNaN(hour)){return time;}const suffix=hour>=12?'PM':'AM';const displayHour=(hour+11)%12+1;return\"\".concat(displayHour,\":\").concat(minuteStr,\" \").concat(suffix);};const todayISO=()=>{const now=new Date();const month=String(now.getMonth()+1).padStart(2,'0');const day=String(now.getDate()).padStart(2,'0');return\"\".concat(now.getFullYear(),\"-\").concat(month,\"-\").concat(day);};const App=()=>{const[dateInput,setDateInput]=useState(todayISO());const[activeDate,setActiveDate]=useState(null);const[tables,setTables]=useState([]);const[groups,setGroups]=useState([]);const[reservations,setReservations]=useState([]);const[selectedTableIds,setSelectedTableIds]=useState([]);const[loading,setLoading]=useState(false);const[modal,setModal]=useState(null);const[toast,setToast]=useState(null);const dragRef=useRef(null);const reservationByGroup=useMemo(()=>{const map=new Map();reservations.forEach(res=>map.set(res.groupId,res));return map;},[reservations]);const groupMap=useMemo(()=>{const map=new Map();groups.forEach(group=>map.set(group.groupId,group));return map;},[groups]);const selectedGroupId=useMemo(()=>{if(selectedTableIds.length===0){return null;}const groupIds=selectedTableIds.map(id=>{var _tables$find$groupId,_tables$find;return(_tables$find$groupId=(_tables$find=tables.find(table=>table.tableId===id))===null||_tables$find===void 0?void 0:_tables$find.groupId)!==null&&_tables$find$groupId!==void 0?_tables$find$groupId:null;}).filter(id=>id!==null);if(groupIds.length!==selectedTableIds.length){return null;}const unique=new Set(groupIds);if(unique.size!==1){return null;}return groupIds[0];},[selectedTableIds,tables]);const showToast=(message,type)=>{setToast({message,type});setTimeout(()=>setToast(null),3000);};const loadLayout=async date=>{setLoading(true);try{const response=await fetch(\"\".concat(API_BASE,\"/layout/\").concat(date));if(!response.ok){throw new Error('Failed to load layout.');}const payload=await response.json();setTables(payload.tables);setGroups(payload.groups);setReservations(payload.reservations);setSelectedTableIds([]);}catch(err){showToast('Could not load layout.','error');}finally{setLoading(false);}};const openDate=async()=>{if(!dateInput){showToast('Pick a date first.','error');return;}setLoading(true);try{const response=await fetch(\"\".concat(API_BASE,\"/layout/\").concat(dateInput,\"/init\"),{method:'POST'});if(!response.ok){throw new Error('Failed to initialize layout.');}setActiveDate(dateInput);await loadLayout(dateInput);}catch(err){showToast('Could not open date.','error');}finally{setLoading(false);}};const refreshLayout=async()=>{if(!activeDate){return;}await loadLayout(activeDate);};const handleTableClick=(tableId,event)=>{if(event.shiftKey){setSelectedTableIds(prev=>prev.includes(tableId)?prev.filter(id=>id!==tableId):[...prev,tableId]);return;}setSelectedTableIds([tableId]);};const handlePointerDown=(table,event)=>{if(event.button!==0){return;}const target=event.currentTarget;target.setPointerCapture(event.pointerId);dragRef.current={tableId:table.tableId,startX:table.x,startY:table.y,pointerStartX:event.clientX,pointerStartY:event.clientY};};const handlePointerMove=event=>{if(!dragRef.current){return;}const{tableId,startX,startY,pointerStartX,pointerStartY}=dragRef.current;const deltaX=event.clientX-pointerStartX;const deltaY=event.clientY-pointerStartY;setTables(prev=>prev.map(table=>table.tableId===tableId?_objectSpread(_objectSpread({},table),{},{x:Math.max(0,startX+deltaX),y:Math.max(0,startY+deltaY)}):table));};const handlePointerUp=async event=>{if(!dragRef.current||!activeDate){return;}const{tableId}=dragRef.current;dragRef.current=null;const table=tables.find(item=>item.tableId===tableId);if(!table){return;}try{await fetch(\"\".concat(API_BASE,\"/layout/\").concat(activeDate,\"/table/\").concat(tableId),{method:'PUT',headers:{'Content-Type':'application/json'},body:JSON.stringify({x:table.x,y:table.y})});console.log(\"Table \".concat(table.name,\" (\").concat(table.tableId,\") position: x=\").concat(table.x,\", y=\").concat(table.y));}catch(err){showToast('Could not save position.','error');}};const handleGroup=async()=>{if(!activeDate){return;}if(selectedTableIds.length<2){showToast('Select at least two tables to group.','error');return;}try{const response=await fetch(\"\".concat(API_BASE,\"/layout/\").concat(activeDate,\"/group\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({tableIds:selectedTableIds})});if(!response.ok){const payload=await response.json();throw new Error(payload.error||'Failed to group.');}await refreshLayout();}catch(err){showToast('Grouping failed. Ungroup tables first.','error');}};const handleUngroup=async()=>{if(!activeDate||!selectedGroupId){showToast('Select a grouped set of tables.','error');return;}if(reservationByGroup.has(selectedGroupId)){showToast('Delete the reservation before ungrouping.','error');return;}try{const response=await fetch(\"\".concat(API_BASE,\"/layout/\").concat(activeDate,\"/ungroup\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({groupId:selectedGroupId})});if(!response.ok){const payload=await response.json();throw new Error(payload.error||'Failed to ungroup.');}await refreshLayout();}catch(err){showToast('Ungroup failed.','error');}};const handleTableDoubleClick=async table=>{var _groupMap$get;if(!activeDate){return;}let groupId=table.groupId;if(!groupId){try{const response=await fetch(\"\".concat(API_BASE,\"/layout/\").concat(activeDate,\"/group\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({tableIds:[table.tableId]})});if(!response.ok){const payload=await response.json();throw new Error(payload.error||'Failed to create group.');}const payload=await response.json();groupId=payload.groupId;setTables(prev=>prev.map(item=>item.tableId===table.tableId?_objectSpread(_objectSpread({},item),{},{groupId}):item));}catch(err){showToast('Could not create group.','error');return;}}if(groupId===null){showToast('Could not open reservation.','error');return;}const reservation=reservationByGroup.get(groupId)||null;const groupTables=((_groupMap$get=groupMap.get(groupId))===null||_groupMap$get===void 0?void 0:_groupMap$get.tableIds)||[table.tableId];const tableNames=groupTables.map(id=>{var _tables$find2;return((_tables$find2=tables.find(item=>item.tableId===id))===null||_tables$find2===void 0?void 0:_tables$find2.name)||\"T\".concat(id);}).join(', ');setModal({groupId,tableNames,reservation});};const handleReservationSave=async data=>{if(!activeDate||!modal){return;}try{const response=await fetch(\"\".concat(API_BASE,\"/layout/\").concat(activeDate,\"/reservation\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(_objectSpread({groupId:modal.groupId},data))});if(!response.ok){const payload=await response.json();throw new Error(payload.error||'Failed to save reservation.');}setModal(null);await refreshLayout();}catch(err){showToast('Reservation save failed.','error');}};const handleReservationDelete=async()=>{if(!activeDate||!(modal!==null&&modal!==void 0&&modal.reservation)){return;}try{await fetch(\"\".concat(API_BASE,\"/layout/\").concat(activeDate,\"/reservation/\").concat(modal.reservation.id),{method:'DELETE'});setModal(null);await refreshLayout();}catch(err){showToast('Reservation delete failed.','error');}};const reservationLabels=useMemo(()=>{const CANVAS_WIDTH=957;const LABEL_PADDING=12;return reservations.map(reservation=>{const tablesInGroup=tables.filter(table=>table.groupId===reservation.groupId);if(tablesInGroup.length===0){return null;}const avgX=tablesInGroup.reduce((sum,table)=>sum+table.x+table.width/2,0)/tablesInGroup.length;const maxY=Math.max(...tablesInGroup.map(table=>table.y+table.height));const clampedX=Math.min(Math.max(avgX,LABEL_PADDING),CANVAS_WIDTH-LABEL_PADDING);return{id:reservation.id,x:clampedX,y:maxY+10,text:\"\".concat(reservation.name,\" - \").concat(formatTime(reservation.time),\" (\").concat(reservation.partySize,\")\")};}).filter(Boolean);},[reservations,tables]);if(!activeDate){return/*#__PURE__*/_jsxs(\"div\",{className:\"app\",children:[/*#__PURE__*/_jsx(\"header\",{className:\"header\",children:/*#__PURE__*/_jsx(\"h1\",{children:\"Local Reservations\"})}),/*#__PURE__*/_jsx(\"main\",{className:\"page\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card date-picker\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"Select date\",/*#__PURE__*/_jsx(\"input\",{className:\"input\",type:\"date\",value:dateInput,onChange:event=>setDateInput(event.target.value)})]}),/*#__PURE__*/_jsx(\"button\",{className:\"button\",onClick:openDate,disabled:loading,children:loading?'Opening...':'Open'}),/*#__PURE__*/_jsx(\"div\",{className:\"footer-note\",children:\"The layout will initialize from the default template the first time you open a date.\"})]})}),toast&&/*#__PURE__*/_jsx(\"div\",{className:\"toast \".concat(toast.type||'').trim(),children:toast.message})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"app\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"header\",children:[/*#__PURE__*/_jsxs(\"h1\",{children:[\"Floor Plan for \",activeDate]}),/*#__PURE__*/_jsx(\"button\",{className:\"button secondary\",onClick:()=>setActiveDate(null),children:\"Change date\"})]}),/*#__PURE__*/_jsxs(\"main\",{className:\"page\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"toolbar\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"button\",onClick:handleGroup,children:\"Group\"}),/*#__PURE__*/_jsx(\"button\",{className:\"button secondary\",onClick:handleUngroup,children:\"Ungroup\"}),/*#__PURE__*/_jsx(\"button\",{className:\"button secondary\",onClick:refreshLayout,children:\"Refresh\"}),/*#__PURE__*/_jsx(\"div\",{className:\"footer-note\",children:\"Shift+click to multi-select tables.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"canvas\",children:[tables.map(table=>{const reserved=table.groupId?reservationByGroup.has(table.groupId):false;const selected=selectedTableIds.includes(table.tableId);return/*#__PURE__*/_jsx(\"div\",{className:\"table\".concat(reserved?' reserved':'').concat(selected?' selected':''),style:{width:table.width,height:table.height,left:table.x,top:table.y},onClick:event=>handleTableClick(table.tableId,event),onDoubleClick:()=>handleTableDoubleClick(table),onPointerDown:event=>handlePointerDown(table,event),onPointerMove:handlePointerMove,onPointerUp:handlePointerUp,children:table.name},table.tableId);}),reservationLabels.map(label=>/*#__PURE__*/_jsx(\"div\",{className:\"reservation-label\",style:{left:label.x,top:label.y},children:label.text},label.id))]})]}),modal&&/*#__PURE__*/_jsx(ReservationModal,{modal:modal,onClose:()=>setModal(null),onSave:handleReservationSave,onDelete:handleReservationDelete}),toast&&/*#__PURE__*/_jsx(\"div\",{className:\"toast \".concat(toast.type||'').trim(),children:toast.message})]});};const ReservationModal=_ref=>{var _modal$reservation,_modal$reservation2,_modal$reservation3,_modal$reservation3$p,_modal$reservation4;let{modal,onClose,onSave,onDelete}=_ref;const[time,setTime]=useState(((_modal$reservation=modal.reservation)===null||_modal$reservation===void 0?void 0:_modal$reservation.time)||'18:30');const[name,setName]=useState(((_modal$reservation2=modal.reservation)===null||_modal$reservation2===void 0?void 0:_modal$reservation2.name)||'');const[partySize,setPartySize]=useState(((_modal$reservation3=modal.reservation)===null||_modal$reservation3===void 0?void 0:(_modal$reservation3$p=_modal$reservation3.partySize)===null||_modal$reservation3$p===void 0?void 0:_modal$reservation3$p.toString())||'2');const[notes,setNotes]=useState(((_modal$reservation4=modal.reservation)===null||_modal$reservation4===void 0?void 0:_modal$reservation4.notes)||'');const submit=()=>{const size=Number(partySize);if(!time||!name||Number.isNaN(size)){return;}onSave({time,name,partySize:size,notes});};return/*#__PURE__*/_jsx(\"div\",{className:\"modal-backdrop\",onClick:onClose,children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal\",onClick:event=>event.stopPropagation(),children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Reservation\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"footer-note\",children:[\"Tables: \",modal.tableNames]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Time\",/*#__PURE__*/_jsx(\"input\",{className:\"input\",type:\"time\",value:time,onChange:event=>setTime(event.target.value)})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Name\",/*#__PURE__*/_jsx(\"input\",{className:\"input\",value:name,onChange:event=>setName(event.target.value)})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Party size\",/*#__PURE__*/_jsx(\"input\",{className:\"input\",type:\"number\",min:\"1\",value:partySize,onChange:event=>setPartySize(event.target.value)})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Notes\",/*#__PURE__*/_jsx(\"input\",{className:\"input\",value:notes,onChange:event=>setNotes(event.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"toolbar\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"button\",onClick:submit,children:\"Save\"}),/*#__PURE__*/_jsx(\"button\",{className:\"button secondary\",onClick:onClose,children:\"Cancel\"}),modal.reservation&&/*#__PURE__*/_jsx(\"button\",{className:\"button secondary\",onClick:onDelete,children:\"Delete\"})]})]})});};export default App;","map":{"version":3,"names":["React","useMemo","useRef","useState","jsx","_jsx","jsxs","_jsxs","API_BASE","formatTime","time","hourStr","minuteStr","split","hour","Number","isNaN","suffix","displayHour","concat","todayISO","now","Date","month","String","getMonth","padStart","day","getDate","getFullYear","App","dateInput","setDateInput","activeDate","setActiveDate","tables","setTables","groups","setGroups","reservations","setReservations","selectedTableIds","setSelectedTableIds","loading","setLoading","modal","setModal","toast","setToast","dragRef","reservationByGroup","map","Map","forEach","res","set","groupId","groupMap","group","selectedGroupId","length","groupIds","id","_tables$find$groupId","_tables$find","find","table","tableId","filter","unique","Set","size","showToast","message","type","setTimeout","loadLayout","date","response","fetch","ok","Error","payload","json","err","openDate","method","refreshLayout","handleTableClick","event","shiftKey","prev","includes","handlePointerDown","button","target","currentTarget","setPointerCapture","pointerId","current","startX","x","startY","y","pointerStartX","clientX","pointerStartY","clientY","handlePointerMove","deltaX","deltaY","_objectSpread","Math","max","handlePointerUp","item","headers","body","JSON","stringify","console","log","name","handleGroup","tableIds","error","handleUngroup","has","handleTableDoubleClick","_groupMap$get","reservation","get","groupTables","tableNames","_tables$find2","join","handleReservationSave","data","handleReservationDelete","reservationLabels","CANVAS_WIDTH","LABEL_PADDING","tablesInGroup","avgX","reduce","sum","width","maxY","height","clampedX","min","text","partySize","Boolean","className","children","value","onChange","onClick","disabled","trim","reserved","selected","style","left","top","onDoubleClick","onPointerDown","onPointerMove","onPointerUp","label","ReservationModal","onClose","onSave","onDelete","_ref","_modal$reservation","_modal$reservation2","_modal$reservation3","_modal$reservation3$p","_modal$reservation4","setTime","setName","setPartySize","toString","notes","setNotes","submit","stopPropagation"],"sources":["/workspaces/LocalReservationWebapp/client/src/App.tsx"],"sourcesContent":["import React, { useMemo, useRef, useState } from 'react';\n\ntype TableItem = {\n  tableId: number;\n  name: string;\n  x: number;\n  y: number;\n  width: number;\n  height: number;\n  capacity?: number | null;\n  groupId: number | null;\n};\n\ntype Group = {\n  groupId: number;\n  tableIds: number[];\n};\n\ntype Reservation = {\n  id: number;\n  groupId: number;\n  time: string;\n  name: string;\n  partySize: number;\n  notes?: string | null;\n};\n\ntype ModalState = {\n  groupId: number;\n  tableNames: string;\n  reservation: Reservation | null;\n};\n\ntype ToastState = {\n  message: string;\n  type?: 'error';\n};\n\nconst API_BASE = 'http://localhost:4000/api';\n\nconst formatTime = (time: string) => {\n  const [hourStr, minuteStr] = time.split(':');\n  const hour = Number(hourStr);\n  if (Number.isNaN(hour)) {\n    return time;\n  }\n  const suffix = hour >= 12 ? 'PM' : 'AM';\n  const displayHour = ((hour + 11) % 12) + 1;\n  return `${displayHour}:${minuteStr} ${suffix}`;\n};\n\nconst todayISO = () => {\n  const now = new Date();\n  const month = String(now.getMonth() + 1).padStart(2, '0');\n  const day = String(now.getDate()).padStart(2, '0');\n  return `${now.getFullYear()}-${month}-${day}`;\n};\n\nconst App: React.FC = () => {\n  const [dateInput, setDateInput] = useState(todayISO());\n  const [activeDate, setActiveDate] = useState<string | null>(null);\n  const [tables, setTables] = useState<TableItem[]>([]);\n  const [groups, setGroups] = useState<Group[]>([]);\n  const [reservations, setReservations] = useState<Reservation[]>([]);\n  const [selectedTableIds, setSelectedTableIds] = useState<number[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [modal, setModal] = useState<ModalState | null>(null);\n  const [toast, setToast] = useState<ToastState | null>(null);\n\n  const dragRef = useRef<{\n    tableId: number;\n    startX: number;\n    startY: number;\n    pointerStartX: number;\n    pointerStartY: number;\n  } | null>(null);\n\n  const reservationByGroup = useMemo(() => {\n    const map = new Map<number, Reservation>();\n    reservations.forEach((res) => map.set(res.groupId, res));\n    return map;\n  }, [reservations]);\n\n  const groupMap = useMemo(() => {\n    const map = new Map<number, Group>();\n    groups.forEach((group) => map.set(group.groupId, group));\n    return map;\n  }, [groups]);\n\n  const selectedGroupId = useMemo(() => {\n    if (selectedTableIds.length === 0) {\n      return null;\n    }\n    const groupIds = selectedTableIds\n      .map((id) => tables.find((table) => table.tableId === id)?.groupId ?? null)\n      .filter((id): id is number => id !== null);\n    if (groupIds.length !== selectedTableIds.length) {\n      return null;\n    }\n    const unique = new Set(groupIds);\n    if (unique.size !== 1) {\n      return null;\n    }\n    return groupIds[0];\n  }, [selectedTableIds, tables]);\n\n  const showToast = (message: string, type?: 'error') => {\n    setToast({ message, type });\n    setTimeout(() => setToast(null), 3000);\n  };\n\n  const loadLayout = async (date: string) => {\n    setLoading(true);\n    try {\n      const response = await fetch(`${API_BASE}/layout/${date}`);\n      if (!response.ok) {\n        throw new Error('Failed to load layout.');\n      }\n      const payload = await response.json();\n      setTables(payload.tables);\n      setGroups(payload.groups);\n      setReservations(payload.reservations);\n      setSelectedTableIds([]);\n    } catch (err) {\n      showToast('Could not load layout.', 'error');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const openDate = async () => {\n    if (!dateInput) {\n      showToast('Pick a date first.', 'error');\n      return;\n    }\n    setLoading(true);\n    try {\n      const response = await fetch(`${API_BASE}/layout/${dateInput}/init`, {\n        method: 'POST'\n      });\n      if (!response.ok) {\n        throw new Error('Failed to initialize layout.');\n      }\n      setActiveDate(dateInput);\n      await loadLayout(dateInput);\n    } catch (err) {\n      showToast('Could not open date.', 'error');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const refreshLayout = async () => {\n    if (!activeDate) {\n      return;\n    }\n    await loadLayout(activeDate);\n  };\n\n  const handleTableClick = (tableId: number, event: React.MouseEvent) => {\n    if (event.shiftKey) {\n      setSelectedTableIds((prev) =>\n        prev.includes(tableId) ? prev.filter((id) => id !== tableId) : [...prev, tableId]\n      );\n      return;\n    }\n    setSelectedTableIds([tableId]);\n  };\n\n  const handlePointerDown = (table: TableItem, event: React.PointerEvent) => {\n    if (event.button !== 0) {\n      return;\n    }\n    const target = event.currentTarget as HTMLElement;\n    target.setPointerCapture(event.pointerId);\n    dragRef.current = {\n      tableId: table.tableId,\n      startX: table.x,\n      startY: table.y,\n      pointerStartX: event.clientX,\n      pointerStartY: event.clientY\n    };\n  };\n\n  const handlePointerMove = (event: React.PointerEvent) => {\n    if (!dragRef.current) {\n      return;\n    }\n    const { tableId, startX, startY, pointerStartX, pointerStartY } = dragRef.current;\n    const deltaX = event.clientX - pointerStartX;\n    const deltaY = event.clientY - pointerStartY;\n    setTables((prev) =>\n      prev.map((table) =>\n        table.tableId === tableId\n          ? { ...table, x: Math.max(0, startX + deltaX), y: Math.max(0, startY + deltaY) }\n          : table\n      )\n    );\n  };\n\n  const handlePointerUp = async (event: React.PointerEvent) => {\n    if (!dragRef.current || !activeDate) {\n      return;\n    }\n    const { tableId } = dragRef.current;\n    dragRef.current = null;\n    const table = tables.find((item) => item.tableId === tableId);\n    if (!table) {\n      return;\n    }\n    try {\n      await fetch(`${API_BASE}/layout/${activeDate}/table/${tableId}`, {\n        method: 'PUT',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ x: table.x, y: table.y })\n      });\n      console.log(`Table ${table.name} (${table.tableId}) position: x=${table.x}, y=${table.y}`);\n    } catch (err) {\n      showToast('Could not save position.', 'error');\n    }\n  };\n\n  const handleGroup = async () => {\n    if (!activeDate) {\n      return;\n    }\n    if (selectedTableIds.length < 2) {\n      showToast('Select at least two tables to group.', 'error');\n      return;\n    }\n    try {\n      const response = await fetch(`${API_BASE}/layout/${activeDate}/group`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ tableIds: selectedTableIds })\n      });\n      if (!response.ok) {\n        const payload = await response.json();\n        throw new Error(payload.error || 'Failed to group.');\n      }\n      await refreshLayout();\n    } catch (err) {\n      showToast('Grouping failed. Ungroup tables first.', 'error');\n    }\n  };\n\n  const handleUngroup = async () => {\n    if (!activeDate || !selectedGroupId) {\n      showToast('Select a grouped set of tables.', 'error');\n      return;\n    }\n    if (reservationByGroup.has(selectedGroupId)) {\n      showToast('Delete the reservation before ungrouping.', 'error');\n      return;\n    }\n    try {\n      const response = await fetch(`${API_BASE}/layout/${activeDate}/ungroup`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ groupId: selectedGroupId })\n      });\n      if (!response.ok) {\n        const payload = await response.json();\n        throw new Error(payload.error || 'Failed to ungroup.');\n      }\n      await refreshLayout();\n    } catch (err) {\n      showToast('Ungroup failed.', 'error');\n    }\n  };\n\n  const handleTableDoubleClick = async (table: TableItem) => {\n    if (!activeDate) {\n      return;\n    }\n    let groupId = table.groupId;\n    if (!groupId) {\n      try {\n        const response = await fetch(`${API_BASE}/layout/${activeDate}/group`, {\n          method: 'POST',\n          headers: { 'Content-Type': 'application/json' },\n          body: JSON.stringify({ tableIds: [table.tableId] })\n        });\n        if (!response.ok) {\n          const payload = await response.json();\n          throw new Error(payload.error || 'Failed to create group.');\n        }\n        const payload = await response.json();\n        groupId = payload.groupId;\n        setTables((prev) =>\n          prev.map((item) =>\n            item.tableId === table.tableId ? { ...item, groupId } : item\n          )\n        );\n      } catch (err) {\n        showToast('Could not create group.', 'error');\n        return;\n      }\n    }\n\n    if (groupId === null) {\n      showToast('Could not open reservation.', 'error');\n      return;\n    }\n    const reservation = reservationByGroup.get(groupId) || null;\n    const groupTables = groupMap.get(groupId)?.tableIds || [table.tableId];\n    const tableNames = groupTables\n      .map((id) => tables.find((item) => item.tableId === id)?.name || `T${id}`)\n      .join(', ');\n    setModal({ groupId, tableNames, reservation });\n  };\n\n  const handleReservationSave = async (data: {\n    time: string;\n    name: string;\n    partySize: number;\n    notes?: string;\n  }) => {\n    if (!activeDate || !modal) {\n      return;\n    }\n    try {\n      const response = await fetch(`${API_BASE}/layout/${activeDate}/reservation`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ groupId: modal.groupId, ...data })\n      });\n      if (!response.ok) {\n        const payload = await response.json();\n        throw new Error(payload.error || 'Failed to save reservation.');\n      }\n      setModal(null);\n      await refreshLayout();\n    } catch (err) {\n      showToast('Reservation save failed.', 'error');\n    }\n  };\n\n  const handleReservationDelete = async () => {\n    if (!activeDate || !modal?.reservation) {\n      return;\n    }\n    try {\n      await fetch(`${API_BASE}/layout/${activeDate}/reservation/${modal.reservation.id}`, {\n        method: 'DELETE'\n      });\n      setModal(null);\n      await refreshLayout();\n    } catch (err) {\n      showToast('Reservation delete failed.', 'error');\n    }\n  };\n\n  const reservationLabels = useMemo(() => {\n    const CANVAS_WIDTH = 957;\n    const LABEL_PADDING = 12;\n    return reservations\n      .map((reservation) => {\n        const tablesInGroup = tables.filter((table) => table.groupId === reservation.groupId);\n        if (tablesInGroup.length === 0) {\n          return null;\n        }\n        const avgX =\n          tablesInGroup.reduce((sum, table) => sum + table.x + table.width / 2, 0) /\n          tablesInGroup.length;\n        const maxY = Math.max(\n          ...tablesInGroup.map((table) => table.y + table.height)\n        );\n        const clampedX = Math.min(\n          Math.max(avgX, LABEL_PADDING),\n          CANVAS_WIDTH - LABEL_PADDING\n        );\n        return {\n          id: reservation.id,\n          x: clampedX,\n          y: maxY + 10,\n          text: `${reservation.name} - ${formatTime(reservation.time)} (${reservation.partySize})`\n        };\n      })\n      .filter(Boolean) as Array<{ id: number; x: number; y: number; text: string }>;\n  }, [reservations, tables]);\n\n  if (!activeDate) {\n    return (\n      <div className=\"app\">\n        <header className=\"header\">\n          <h1>Local Reservations</h1>\n        </header>\n        <main className=\"page\">\n          <div className=\"card date-picker\">\n            <label>\n              Select date\n              <input\n                className=\"input\"\n                type=\"date\"\n                value={dateInput}\n                onChange={(event) => setDateInput(event.target.value)}\n              />\n            </label>\n            <button className=\"button\" onClick={openDate} disabled={loading}>\n              {loading ? 'Opening...' : 'Open'}\n            </button>\n            <div className=\"footer-note\">\n              The layout will initialize from the default template the first time you open a date.\n            </div>\n          </div>\n        </main>\n        {toast && (\n          <div className={`toast ${toast.type || ''}`.trim()}>{toast.message}</div>\n        )}\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"app\">\n      <header className=\"header\">\n        <h1>Floor Plan for {activeDate}</h1>\n        <button className=\"button secondary\" onClick={() => setActiveDate(null)}>\n          Change date\n        </button>\n      </header>\n      <main className=\"page\">\n        <div className=\"toolbar\">\n          <button className=\"button\" onClick={handleGroup}>\n            Group\n          </button>\n          <button className=\"button secondary\" onClick={handleUngroup}>\n            Ungroup\n          </button>\n          <button className=\"button secondary\" onClick={refreshLayout}>\n            Refresh\n          </button>\n          <div className=\"footer-note\">Shift+click to multi-select tables.</div>\n        </div>\n        <div className=\"canvas\">\n          {tables.map((table) => {\n            const reserved = table.groupId ? reservationByGroup.has(table.groupId) : false;\n            const selected = selectedTableIds.includes(table.tableId);\n            return (\n              <div\n                key={table.tableId}\n                className={`table${reserved ? ' reserved' : ''}${selected ? ' selected' : ''}`}\n                style={{\n                  width: table.width,\n                  height: table.height,\n                  left: table.x,\n                  top: table.y\n                }}\n                onClick={(event) => handleTableClick(table.tableId, event)}\n                onDoubleClick={() => handleTableDoubleClick(table)}\n                onPointerDown={(event) => handlePointerDown(table, event)}\n                onPointerMove={handlePointerMove}\n                onPointerUp={handlePointerUp}\n              >\n                {table.name}\n              </div>\n            );\n          })}\n          {reservationLabels.map((label) => (\n            <div\n              key={label.id}\n              className=\"reservation-label\"\n              style={{ left: label.x, top: label.y }}\n            >\n              {label.text}\n            </div>\n          ))}\n        </div>\n      </main>\n      {modal && (\n        <ReservationModal\n          modal={modal}\n          onClose={() => setModal(null)}\n          onSave={handleReservationSave}\n          onDelete={handleReservationDelete}\n        />\n      )}\n      {toast && <div className={`toast ${toast.type || ''}`.trim()}>{toast.message}</div>}\n    </div>\n  );\n};\n\ntype ReservationModalProps = {\n  modal: ModalState;\n  onClose: () => void;\n  onSave: (data: { time: string; name: string; partySize: number; notes?: string }) => void;\n  onDelete: () => void;\n};\n\nconst ReservationModal: React.FC<ReservationModalProps> = ({\n  modal,\n  onClose,\n  onSave,\n  onDelete\n}) => {\n  const [time, setTime] = useState(modal.reservation?.time || '18:30');\n  const [name, setName] = useState(modal.reservation?.name || '');\n  const [partySize, setPartySize] = useState(\n    modal.reservation?.partySize?.toString() || '2'\n  );\n  const [notes, setNotes] = useState(modal.reservation?.notes || '');\n\n  const submit = () => {\n    const size = Number(partySize);\n    if (!time || !name || Number.isNaN(size)) {\n      return;\n    }\n    onSave({ time, name, partySize: size, notes });\n  };\n\n  return (\n    <div className=\"modal-backdrop\" onClick={onClose}>\n      <div className=\"modal\" onClick={(event) => event.stopPropagation()}>\n        <h2>Reservation</h2>\n        <div className=\"footer-note\">Tables: {modal.tableNames}</div>\n        <label>\n          Time\n          <input\n            className=\"input\"\n            type=\"time\"\n            value={time}\n            onChange={(event) => setTime(event.target.value)}\n          />\n        </label>\n        <label>\n          Name\n          <input\n            className=\"input\"\n            value={name}\n            onChange={(event) => setName(event.target.value)}\n          />\n        </label>\n        <label>\n          Party size\n          <input\n            className=\"input\"\n            type=\"number\"\n            min=\"1\"\n            value={partySize}\n            onChange={(event) => setPartySize(event.target.value)}\n          />\n        </label>\n        <label>\n          Notes\n          <input\n            className=\"input\"\n            value={notes}\n            onChange={(event) => setNotes(event.target.value)}\n          />\n        </label>\n        <div className=\"toolbar\">\n          <button className=\"button\" onClick={submit}>\n            Save\n          </button>\n          <button className=\"button secondary\" onClick={onClose}>\n            Cancel\n          </button>\n          {modal.reservation && (\n            <button className=\"button secondary\" onClick={onDelete}>\n              Delete\n            </button>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}